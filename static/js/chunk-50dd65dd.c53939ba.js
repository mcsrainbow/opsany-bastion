(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50dd65dd"],{"1da1":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));e("d3b7");function a(t,n,e,a,o,i,r){try{var u=t[i](r),c=u.value}catch(d){return void e(d)}u.done?n(c):Promise.resolve(c).then(a,o)}function o(t){return function(){var n=this,e=arguments;return new Promise((function(o,i){var r=t.apply(n,e);function u(t){a(r,o,i,u,c,"next",t)}function c(t){a(r,o,i,u,c,"throw",t)}u(void 0)}))}}},"2eec":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"operationLog_main"},[e("ContentHeader",[e("div",{attrs:{slot:"docs"},slot:"docs"},[t._v("记录堡垒机用户的所有操作记录，用于进行安全审计和查看。")])]),e("a-card",[e("a-table",{attrs:{loading:t.tableLoading,pagination:t.pagination,columns:t.columns,"data-source":t.tableData},on:{change:t.onChange}})],1)],1)},o=[],i=(e("d81d"),e("d3b7"),e("96cf"),e("1da1")),r=e("0977"),u=e("b899"),c=e("6f7c"),d={data:function(){return{tableData:[],pagination:{total:0,current:1,pageSize:10,showTotal:function(t){return"共有 ".concat(t," 条数据")},search_type:"user",search_data:void 0,showSizeChanger:!0,showQuickJumper:!0},tableLoading:!1,columns:[{title:"操作用户",dataIndex:"username"},{title:"操作类型",dataIndex:"operation_type"},{title:"操作对象",dataIndex:"operation_object"},{title:"执行时间",dataIndex:"create_time"}],searchList:[{name:"登录用户",key:"user"},{name:"主机",key:"server"}]}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["a"])(t,"visit-operation-log");case 2:e=n.sent,e&&t.getOperationLogData();case 4:case"end":return n.stop()}}),n)})))()},methods:{download:function(){},getOperationLogData:function(){var t=this;this.tableLoading=!0;var n={current:this.pagination.current,pageSize:this.pagination.pageSize};Object(u["d"])(n).then((function(n){200==n.code&&n.data?(t.pagination.total=n.data.total,t.pagination.current=n.data.current,t.pagination.pageSize=n.data.pageSize,n.data.data.map((function(t){t.key=t.id})),t.tableData=n.data.data):t.tableData=[]})).finally((function(){t.tableLoading=!1}))},onChange:function(t){this.pagination.total=t.total,this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.getOperationLogData()}},components:{ContentHeader:r["a"]}},s=d,l=(e("679d"),e("2877")),g=Object(l["a"])(s,a,o,!1,null,"10e044f8",null);n["default"]=g.exports},"679d":function(t,n,e){"use strict";var a=e("9d55"),o=e.n(a);o.a},"6f7c":function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));e("d3b7");var a=e("a18c"),o=e("b775"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["b"])({url:"authentication/",method:"get",params:t})},r=function(){a["a"].push({name:"noAuth"})},u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(e,a){setTimeout((function(){t.$loading.show()}),0),i({action_id:n}).then((function(t){return t.data||r(),e(t.data)})).catch((function(){return r(),e(!1)})).finally((function(){setTimeout((function(){t.$loading.hide()}),0)}))}))}},"9d55":function(t,n,e){},b899:function(t,n,e){"use strict";e.d(n,"f",(function(){return o})),e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return r})),e.d(n,"g",(function(){return u})),e.d(n,"c",(function(){return c})),e.d(n,"d",(function(){return d})),e.d(n,"e",(function(){return s}));var a=e("b775"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["b"])({url:"session-log/",method:"get",params:t})},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["b"])({url:"session-log/",method:"delete",data:t})},r=window.location.origin+window.API_ROOT+"api/bastion/v0_1/",u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r+"session-log/guacamole/"+"".concat(t,"/")},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["b"])({url:"command-log/",method:"get",params:t})},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["b"])({url:"operation-log/",method:"get",params:t})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["b"])({url:"session-command-history/",method:"get",params:t})}}}]);