(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e2bb386"],{"2eec":function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"operationLog_main"},[a("ContentHeader",[a("div",{attrs:{slot:"docs"},slot:"docs"},[t._v(" 记录堡垒机用户的所有操作记录，用于进行安全审计和查看。 ")])]),a("a-card",[a("a-table",{attrs:{loading:t.tableLoading,pagination:t.pagination,columns:t.columns,"data-source":t.tableData},on:{change:t.onChange}})],1)],1)},o=[],i=(a("d81d"),a("d3b7"),a("0977")),r=a("b899"),c={data:function(){return{tableData:[],pagination:{total:0,current:1,pageSize:10,showTotal:function(t){return"共有 ".concat(t," 条数据")},search_type:"user",search_data:void 0,showSizeChanger:!0,showQuickJumper:!0},tableLoading:!1,columns:[{title:"操作用户",dataIndex:"username"},{title:"操作类型",dataIndex:"operation_type"},{title:"操作对象",dataIndex:"operation_object"},{title:"执行时间",dataIndex:"create_time"}],searchList:[{name:"登录用户",key:"user"},{name:"主机",key:"server"}]}},mounted:function(){this.getOperationLogData()},methods:{download:function(){},getOperationLogData:function(){var t=this;this.tableLoading=!0;var n={current:this.pagination.current,pageSize:this.pagination.pageSize};Object(r["d"])(n).then((function(n){200==n.code&&n.data?(t.pagination.total=n.data.total,t.pagination.current=n.data.current,t.pagination.pageSize=n.data.pageSize,n.data.data.map((function(t){t.key=t.id})),t.tableData=n.data.data):t.tableData=[]})).finally((function(){t.tableLoading=!1}))},onChange:function(t){this.pagination.total=t.total,this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.getOperationLogData()}},components:{ContentHeader:i["a"]}},u=c,d=(a("c7fd"),a("2877")),s=Object(d["a"])(u,e,o,!1,null,"04b9950b",null);n["default"]=s.exports},8996:function(t,n,a){},b899:function(t,n,a){"use strict";a.d(n,"f",(function(){return o})),a.d(n,"b",(function(){return i})),a.d(n,"a",(function(){return r})),a.d(n,"g",(function(){return c})),a.d(n,"c",(function(){return u})),a.d(n,"d",(function(){return d})),a.d(n,"e",(function(){return s}));var e=a("b775"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(e["b"])({url:"session-log/",method:"get",params:t})},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(e["b"])({url:"session-log/",method:"delete",data:t})},r=window.location.origin+window.API_ROOT+"api/bastion/v0_1/",c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r+"session-log/guacamole/"+"".concat(t,"/")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(e["b"])({url:"command-log/",method:"get",params:t})},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(e["b"])({url:"operation-log/",method:"get",params:t})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(e["b"])({url:"session-command-history/",method:"get",params:t})}},c7fd:function(t,n,a){"use strict";var e=a("8996"),o=a.n(e);o.a}}]);