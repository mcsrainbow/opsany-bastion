(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b4ee574"],{2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("6b75");function r(e){if(Array.isArray(e))return Object(n["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return r(e)||s(e)||Object(i["a"])(e)||o()}},"3be4":function(e,t,a){"use strict";a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u}));var n=a("b775"),r="access-strategy-v2/",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"get",params:e})},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"post",data:e})},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"put",data:e})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:r,method:"delete",data:e})},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["b"])({url:"strategy-status/",method:"put",data:e})}},6421:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-tabs",{ref:"tabs",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabList,(function(e){return a("a-tab-pane",{key:e.key,attrs:{tab:e.name}})})),1),a("User",{directives:[{name:"show",rawName:"v-show",value:"User"==e.activeTab,expression:"activeTab == 'User'"}],ref:"User",attrs:{user_list:e.user_list}}),a("Group",{directives:[{name:"show",rawName:"v-show",value:"Group"==e.activeTab,expression:"activeTab == 'Group'"}],ref:"Group",attrs:{user_group_list:e.user_group_list}})],1)},r=[],s=(a("4160"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-transfer",{attrs:{dataSource:e.dataSource,targetKeys:e.targetKeys,selectedKeys:e.selectedKeys,showSearch:"",render:function(e){return e.title+"-"+e.description},"list-style":e.listStyle,operations:e.operations,titles:e.titles,lazy:!1},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)}),i=[],o=(a("99af"),a("2909")),c=a("c24f"),u={props:{user_list:{type:Array,default:function(){return[]}}},watch:{user_list:{handler:function(e){this.targetKeys=e}}},data:function(){return{dataSource:void 0,titles:["可选择的用户","已选择的用户"],operations:["加入右侧","加入左侧"],targetKeys:[],selectedKeys:[],listStyle:{width:"370px",height:"420px"}}},methods:{getUserList:function(){var e=this,t={all_data:1};Object(c["c"])(t).then((function(t){t.data.forEach((function(t){e.$set(t,"key",t.id+""),e.$set(t,"title",t.username),e.$set(t,"description",t.ch_name)})),e.dataSource=t.data}))},handleChange:function(e){this.targetKeys=e},handleSelectChange:function(e,t){this.selectedKeys=[].concat(Object(o["a"])(e),Object(o["a"])(t))},resetData:function(){this.targetKeys=[],this.selectedKeys=[]},getFormData:function(){return this.targetKeys}},mounted:function(){this.getUserList()}},l=u,d=a("2877"),h=Object(d["a"])(l,s,i,!1,null,"45593052",null),f=h.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-transfer",{attrs:{dataSource:e.dataSource,targetKeys:e.targetKeys,selectedKeys:e.selectedKeys,showSearch:"",render:function(e){return e.title+"-"+e.description},"list-style":e.listStyle,operations:e.operations,titles:e.titles,lazy:!1},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)},y=[],v=(a("a4d3"),a("e01a"),a("b0c0"),{props:{user_group_list:{type:Array,default:function(){return[]}}},watch:{user_group_list:{handler:function(e){this.targetKeys=e}}},data:function(){return{dataSource:void 0,titles:["可选择的用户组","已选择的用户组"],operations:["加入右侧","加入左侧"],targetKeys:[],selectedKeys:[],listStyle:{width:"370px",height:"420px"}}},methods:{getUserGroupList:function(){var e=this,t={all_data:1};Object(c["a"])(t).then((function(t){t.data.forEach((function(t){e.$set(t,"key",t.id+""),e.$set(t,"title",t.name),t.description=t.description||""})),e.dataSource=t.data}))},handleChange:function(e){this.targetKeys=e},handleSelectChange:function(e,t){this.selectedKeys=[].concat(Object(o["a"])(e),Object(o["a"])(t))},resetData:function(){this.targetKeys=[],this.selectedKeys=[]},getFormData:function(){return this.targetKeys}},mounted:function(){this.getUserGroupList()}}),m=v,_=Object(d["a"])(m,p,y,!1,null,"74a3c732",null),g=_.exports,b={components:{User:f,Group:g},props:{user:{type:Object,default:function(){return{}}}},watch:{user:{handler:function(e){var t=this;this.user_list=e.user||[],this.user_group_list=e.user_group||[],this.user_list.forEach((function(e,a){t.user_list[a]=e+""})),this.user_group_list.forEach((function(e,a){t.user_group_list[a]=e+""}))}}},data:function(){return{tabList:[{key:"User",name:"关联用户"},{key:"Group",name:"关联用户组"}],activeTab:"User",user_list:[],user_group_list:[]}},methods:{resetFormData:function(){var e=this;this.activeTab=this.$options.data().activeTab,this.tabList.forEach((function(t){var a;null===(a=e.$refs[t.key])||void 0===a||a.resetData()}))},getFormData:function(){var e=this.$refs.User.getFormData(),t=this.$refs.Group.getFormData();return{user:e,user_group:t}}},mounted:function(){}},S=b,w=Object(d["a"])(S,n,r,!1,null,"005df33c",null),K=w.exports;t["a"]=K},8794:function(e,t,a){"use strict";var n=a("f9d5"),r=a.n(n);r.a},cae8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"boxhelp"},[e._m(0),a("div",[a("div",{staticClass:"disabledBox",style:{background:e.disabledColor}}),a("div",[e._v("禁止")])])]),e._l(e.weekList,(function(t){return a("div",{staticClass:"container"},[a("span",{staticClass:"week_name"},[e._v(e._s(t.name))]),e._l(24,(function(n,r){return a("span",{staticClass:"timebox",style:{background:t.activeTime.includes(r)?"#0ba360":e.disabledColor},on:{click:function(a){return e.clickTimeBox(t,r)}}})})),a("a-select",{attrs:{mode:"multiple",hidden:""},model:{value:t.activeTime,callback:function(a){e.$set(t,"activeTime",a)},expression:"week.activeTime"}},e._l(24,(function(t,n){return a("a-select-option",{key:n,attrs:{value:n}},[e._v(" "+e._s(n)+" ")])})),1)],2)})),a("div",{staticClass:"timecountbox"},e._l(24,(function(t,n){return a("span",{staticClass:"timecount"},[e._v(" "+e._s(n)+" ")])})),0),a("div",[a("a-button",{attrs:{type:"link"},on:{click:e.allCheck}},[e._v("全选")])],1)],2)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"allowBox"}),a("div",[e._v("允许")])])}],s=(a("a623"),a("7db0"),a("c740"),a("4160"),a("a630"),a("caad"),a("d81d"),a("a434"),a("2532"),a("3ca3"),a("159b"),{props:{value:{type:Array,default:function(){return[]}},disabledColor:{type:String,default:"#ffffff"}},model:{prop:"value",event:"change"},methods:{clickTimeBox:function(e,t){if(e.activeTime.includes(t)){var a=e.activeTime.findIndex((function(e){return e==t}));e.activeTime.splice(a,1)}else e.activeTime.push(t);this.emitWeekList()},allCheck:function(){var e=this.weekList.every((function(e){return 24==e.activeTime.length}));this.weekList.forEach((function(t){t.activeTime=e?[]:Array.from({length:24},(function(e,t){return t}))})),this.emitWeekList()},emitWeekList:function(){var e=this.weekList.map((function(e){return{week:e.key,time:e.activeTime.sort((function(e,t){return e-t}))}}));this.$emit("change",e)}},computed:{weekList:function(){var e=[{key:1,name:"周一",activeTime:[]},{key:2,name:"周二",activeTime:[]},{key:3,name:"周三",activeTime:[]},{key:4,name:"周四",activeTime:[]},{key:5,name:"周五",activeTime:[]},{key:6,name:"周六",activeTime:[]},{key:7,name:"周日",activeTime:[]}];return this.value.forEach((function(t){var a=e.find((function(e){return e.key==t.week}));a.activeTime=t.time})),e}},mounted:function(){}}),i=s,o=(a("8794"),a("2877")),c=Object(o["a"])(i,n,r,!1,null,"93da9362",null),u=c.exports;t["a"]=u},d816:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-tabs",{ref:"tabs",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabList,(function(e){return a("a-tab-pane",{key:e.key,attrs:{tab:e.name}})})),1),a("PasswordVoucher",{directives:[{name:"show",rawName:"v-show",value:"PasswordVoucher"==e.activeTab,expression:"activeTab == 'PasswordVoucher'"}],ref:"PasswordVoucher",attrs:{password_credential_host_id:e.password_credential_host_id}}),a("SSHKey",{directives:[{name:"show",rawName:"v-show",value:"SSHKey"==e.activeTab,expression:"activeTab == 'SSHKey'"}],ref:"SSHKey",attrs:{ssh_credential_host_id:e.ssh_credential_host_id}}),a("VoucherGroup",{directives:[{name:"show",rawName:"v-show",value:"VoucherGroup"==e.activeTab,expression:"activeTab == 'VoucherGroup'"}],ref:"VoucherGroup",attrs:{credential_group:e.credential_group}})],1)},r=[],s=(a("4160"),a("d81d"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-transfer",{attrs:{dataSource:e.dataSource,targetKeys:e.targetKeys,selectedKeys:e.selectedKeys,showSearch:"",render:function(e){return e.title},"list-style":e.listStyle,operations:e.operations,titles:e.titles,lazy:!1},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)}),i=[],o=(a("a4d3"),a("e01a"),a("99af"),a("2909")),c=a("5412"),u={props:{password_credential_host_id:{type:Array,default:function(){return[]}}},watch:{password_credential_host_id:{handler:function(e){this.targetKeys=e}}},data:function(){return{dataSource:void 0,titles:["可选择的密码凭证","已选择的密码凭证"],operations:["加入右侧","加入左侧"],targetKeys:[],selectedKeys:[],listStyle:{width:"370px",height:"420px"}}},methods:{getResourceCredential:function(){var e=this,t={data_type:"password"};Object(c["a"])(t).then((function(t){t.data.forEach((function(t){e.$set(t,"key",t.id+""),e.$set(t,"title",t.login_name+"@"+t.host_address+"("+t.credential_name+")"),t.description=t.description||""})),e.dataSource=t.data}))},handleChange:function(e){this.targetKeys=e},handleSelectChange:function(e,t){this.selectedKeys=[].concat(Object(o["a"])(e),Object(o["a"])(t))},resetData:function(){this.targetKeys=[],this.selectedKeys=[]},getFormData:function(){return this.targetKeys}},mounted:function(){this.getResourceCredential()}},l=u,d=a("2877"),h=Object(d["a"])(l,s,i,!1,null,"0b236925",null),f=h.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-transfer",{attrs:{dataSource:e.dataSource,targetKeys:e.targetKeys,selectedKeys:e.selectedKeys,showSearch:"",render:function(e){return e.title},"list-style":e.listStyle,operations:e.operations,titles:e.titles,lazy:!1},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)},y=[],v={props:{ssh_credential_host_id:{type:Array,default:function(){return[]}}},watch:{ssh_credential_host_id:{handler:function(e){this.targetKeys=e}}},data:function(){return{dataSource:void 0,titles:["可选择的SSH密钥","已选择的SSH密钥"],operations:["加入右侧","加入左侧"],targetKeys:[],selectedKeys:[],listStyle:{width:"370px",height:"420px"}}},methods:{getResourceCredential:function(){var e=this,t={data_type:"ssh"};Object(c["a"])(t).then((function(t){t.data.forEach((function(t){e.$set(t,"key",t.id+""),e.$set(t,"title",t.login_name+"@"+t.host_address+"("+t.credential_name+")"),t.description=t.description||""})),e.dataSource=t.data}))},handleChange:function(e){this.targetKeys=e},handleSelectChange:function(e,t){this.selectedKeys=[].concat(Object(o["a"])(e),Object(o["a"])(t))},resetData:function(){this.targetKeys=[],this.selectedKeys=[]},getFormData:function(){return this.targetKeys}},mounted:function(){this.getResourceCredential()}},m=v,_=Object(d["a"])(m,p,y,!1,null,"0b19e748",null),g=_.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-transfer",{attrs:{dataSource:e.dataSource,targetKeys:e.targetKeys,selectedKeys:e.selectedKeys,showSearch:"",render:function(e){return e.title},"list-style":e.listStyle,operations:e.operations,titles:e.titles,lazy:!1},on:{change:e.handleChange,selectChange:e.handleSelectChange}})],1)},S=[],w=(a("b0c0"),{props:{credential_group:{type:Array,default:function(){return[]}}},watch:{credential_group:{handler:function(e){this.targetKeys=e}}},data:function(){return{dataSource:void 0,titles:["可选择的凭证分组","已选择的凭证分组"],operations:["加入右侧","加入左侧"],targetKeys:[],selectedKeys:[],listStyle:{width:"370px",height:"420px"}}},methods:{getResourceCredential:function(){var e=this,t={data_type:"group"};Object(c["a"])(t).then((function(t){t.data.forEach((function(t){e.$set(t,"key",t.id+""),e.$set(t,"title",t.name),t.description=t.description||""})),e.dataSource=t.data}))},handleChange:function(e){this.targetKeys=e},handleSelectChange:function(e,t){this.selectedKeys=[].concat(Object(o["a"])(e),Object(o["a"])(t))},resetData:function(){this.targetKeys=[],this.selectedKeys=[]},getFormData:function(){return this.targetKeys}},mounted:function(){this.getResourceCredential()}}),K=w,k=Object(d["a"])(K,b,S,!1,null,"1d3a63e9",null),C=k.exports,T={components:{PasswordVoucher:f,SSHKey:g,VoucherGroup:C},props:{credential_host:{type:Object,default:function(){return{}}}},watch:{credential_host:{handler:function(e){var t=e.password_credential_host_id||[],a=e.ssh_credential_host_id||[],n=e.credential_group||[];this.password_credential_host_id=t.map((function(e){return e.id+""})),this.ssh_credential_host_id=a.map((function(e){return e.id+""})),this.credential_group=n.map((function(e){return e.id+""}))}}},data:function(){return{tabList:[{key:"PasswordVoucher",name:"关联密码凭证"},{key:"SSHKey",name:"关联SSH密钥"},{key:"VoucherGroup",name:"关联凭证分组"}],activeTab:"PasswordVoucher",password_credential_host_id:[],ssh_credential_host_id:[],credential_group:[]}},methods:{resetFormData:function(){var e=this;this.activeTab=this.$options.data().activeTab,this.tabList.forEach((function(t){var a;null===(a=e.$refs[t.key])||void 0===a||a.resetData()}))},getFormData:function(){var e=this.$refs.PasswordVoucher.getFormData(),t=this.$refs.SSHKey.getFormData(),a=this.$refs.VoucherGroup.getFormData();return{password_credential_host_id:e,ssh_credential_host_id:t,credential_group:a}}},mounted:function(){}},j=T,x=Object(d["a"])(j,n,r,!1,null,"565dafe2",null),O=x.exports;t["a"]=O},f9d5:function(e,t,a){}}]);